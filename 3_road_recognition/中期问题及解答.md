# 中期问题

### 已实现LED常亮。如何实现LED闪烁？

​	解答：

* 采用定时器。参考：[例程讲解-02-timer_control定时器控制](https://book.openmv.cc/example/02-Board-Control/timer-control.html)
* 多线程（不可用。microPython中不支持）



### 已实现绘制直线。虚线如何画？

### 直道可以通过取其端点中值来绘制中线。弯道的中心线如何绘出？

### 现已基于巡（粗）线小车例程实现了粗线->直线的拟合。如何实现双线识别？

​	解答：

* sensor.snapshot()方法传回对象img（是一个image对象。我们可以通过img.get_pixel(x, y)方法来获取img中一个像素点的值。可以用二维数组来类比、理解。）
* 初步思路：
  * 对采集到的图像进行二值化
  * 竖直方向上**间隔5个像素**就扫描5行像素（使用for在“数组”中遍历）
    * 注：间隔5个像素扫描是为了画出虚线
  * 识别到(i-4, i-3, i-2)三个像素为255（白），（i-1, i, i+1）三个像素为0（黑），(i+2, i+3, i+4)三个像素为255（白），则意味着识别到第一条线上的点
  * 第二条线同理
  * 将识别到的两条线上的点的坐标取中值，绘制
  * 后续：偏移的判断……
* 参考：教程文档[图像的基本运算](https://book.openmv.cc/image/basic-operation.html)中的`image.get_pixel(x, y)`方法

* 偏移的判断：
  * 前面提到：
   > 将识别到的两条线上的点的坐标取中值，绘制
  * 那么，用这些中值的总和除以绘出的点的总数，就能够得到中心虚线的平均横坐标。
  * 将得到的平均横坐标与40（图像中心值）相比较，就能够得到当前中心虚线到底是在视野中偏左还是偏右。